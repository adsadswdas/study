# 为什么改为线程池管理?

## 1.避免频繁创建和销毁线程

每次调用 new Thread(()->{...}).start();都会创建一个新的线程并启动它操作系统和 JVM 都需要为这个线程分配资源，这会带来以下问题:
性能开销:线程的创建和销毁都需要系统的资源，这可能导致性能问题，特别是在高并发场景下。
资源浪费:频繁创建和销毁线程会占用大量内存和 CPU 时间，尤其当线程数非常多时，可能会导致系统资源枯竭。
线程池 通过复用线程来避免了每次都创建新的线程，因此能更高效地使用系统资源，减少了线程创建和销毁的开销。

## 2.控制并发量

当并发请求的数量过多时，直接创建大量线程可能导致系统过载。线程池可以通过控制最大线程数来限制并发量，避免系统崩溃或响应变慢。线程池还可以根据任务的执行情况动态调整线程数，从而实现更高效的资源利用，
线程池允许你设置一个最大线程数(例如THREADPOOLSIZE=28)，从而避免超出系统的并发能力，保证系统的稳定性。

## 3.更好的资源管理

线程池会管理线程的生命周期，包括线程的创建、销毁和调度等。你可以通过线程池的配置(例如 corePoolsize、maxPoolsize 等)来实现对线程资源的精细控制，避免线程数量过多而导致系统的资源被耗尽。
在不使用线程池时，如果没有合理的控制线程数量，可能会导致:
·线程饥饿:系统可能无法及时处理所有线程，导致线程一直处于等待状态。
线程阻塞:当系统资源耗尽时，线程可能会一直阻塞，导致响应超时。